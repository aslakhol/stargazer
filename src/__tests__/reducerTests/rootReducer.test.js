import rootReducer from '../../reducers/rootReducer';


describe('rootReducer', () => {
  describe('INITIAL_STATE', () => {
    it('is correct', () => {
      const action = { type: 'DUMMY_ACTION' };
      const initialState = {
        currentPage: 0,
        currentPerson: {},
        filter: [],
        modalOpen: false,
        request: {
          count: 0, isFetching: false, query: '', receivedAt: 0, requestedAt: 0, result: [], searchTerm: '',
        },
        timeout: -1,
      };

      expect(rootReducer(undefined, action)).toEqual(initialState);
    });
  });

  // The following tests are autogenerated by redux devtools
  // This test would be much better as a snapshot test,
  // but we wanted do demonstrate these kinds of tests.
  describe('autogenerated tests by redux dev tools', () => {
    describe('clicking on R2-D2 card', () => {
      it('correctly updates state', () => {
        let state;
        state = rootReducer({
          currentPerson: {},
          modalOpen: false,
          request: {
            isFetching: false,
            query: 'http://it2810-06.idi.ntnu.no/api/api/people?search=r&limit=4&offset=0',
            searchTerm: 'r',
            requestedAt: 1542294603720,
            count: 46,
            result: [{
              id: 1,
              name: 'Luke Skywalker',
              height: '172',
              mass: '77',
              hair_color: 'blond',
              skin_color: 'fair',
              eye_color: 'blue',
              birth_year: '19BBY',
              gender: 'male',
              homeworld: 1,
              SpeciesId: null,
              Planet: {
                id: 1, climate: 'arid', surface_water: '1', name: 'Tatooine', diameter: '10465', rotation_period: '23', terrain: 'desert', gravity: '1 standard', orbital_period: '304', population: '200000',
              },
            }, {
              id: 3,
              name: 'R2-D2',
              height: '96',
              mass: '32',
              hair_color: 'n/a',
              skin_color: 'white, blue',
              eye_color: 'red',
              birth_year: '33BBY',
              gender: 'n/a',
              homeworld: 8,
              SpeciesId: null,
              Planet: {
                id: 8, climate: 'temperate', surface_water: '12', name: 'Naboo', diameter: '12120', rotation_period: '26', terrain: 'grassy hills, swamps, forests, mountains', gravity: '1 standard', orbital_period: '312', population: '4500000000',
              },
            }, {
              id: 4,
              name: 'Darth Vader',
              height: '202',
              mass: '136',
              hair_color: 'none',
              skin_color: 'white',
              eye_color: 'yellow',
              birth_year: '41.9BBY',
              gender: 'male',
              homeworld: 1,
              SpeciesId: null,
              Planet: {
                id: 1, climate: 'arid', surface_water: '1', name: 'Tatooine', diameter: '10465', rotation_period: '23', terrain: 'desert', gravity: '1 standard', orbital_period: '304', population: '200000',
              },
            }, {
              id: 5,
              name: 'Leia Organa',
              height: '150',
              mass: '49',
              hair_color: 'brown',
              skin_color: 'light',
              eye_color: 'brown',
              birth_year: '19BBY',
              gender: 'female',
              homeworld: 2,
              SpeciesId: null,
              Planet: {
                id: 2, climate: 'temperate', surface_water: '40', name: 'Alderaan', diameter: '12500', rotation_period: '24', terrain: 'grasslands, mountains', gravity: '1 standard', orbital_period: '364', population: '2000000000',
              },
            }],
          },
          timeout: 35,
          filter: [],
          currentPage: 0,
        }, {
          type: 'SET_CURRENT_PERSON',
          data: {
            id: 1,
            name: 'Luke Skywalker',
            height: '172',
            mass: '77',
            hair_color: 'blond',
            skin_color: 'fair',
            eye_color: 'blue',
            birth_year: '19BBY',
            gender: 'male',
            homeworld: 1,
            SpeciesId: null,
            Planet: {
              id: 1, climate: 'arid', surface_water: '1', name: 'Tatooine', diameter: '10465', rotation_period: '23', terrain: 'desert', gravity: '1 standard', orbital_period: '304', population: '200000',
            },
          },
        });
        expect(state).toEqual({
          currentPerson: {
            id: 1,
            name: 'Luke Skywalker',
            height: '172',
            mass: '77',
            hair_color: 'blond',
            skin_color: 'fair',
            eye_color: 'blue',
            birth_year: '19BBY',
            gender: 'male',
            homeworld: 1,
            SpeciesId: null,
            Planet: {
              id: 1, climate: 'arid', surface_water: '1', name: 'Tatooine', diameter: '10465', rotation_period: '23', terrain: 'desert', gravity: '1 standard', orbital_period: '304', population: '200000',
            },
          },
          modalOpen: false,
          request: {
            isFetching: false,
            query: 'http://it2810-06.idi.ntnu.no/api/api/people?search=r&limit=4&offset=0',
            searchTerm: 'r',
            requestedAt: 1542294603720,
            count: 46,
            result: [{
              id: 1,
              name: 'Luke Skywalker',
              height: '172',
              mass: '77',
              hair_color: 'blond',
              skin_color: 'fair',
              eye_color: 'blue',
              birth_year: '19BBY',
              gender: 'male',
              homeworld: 1,
              SpeciesId: null,
              Planet: {
                id: 1, climate: 'arid', surface_water: '1', name: 'Tatooine', diameter: '10465', rotation_period: '23', terrain: 'desert', gravity: '1 standard', orbital_period: '304', population: '200000',
              },
            }, {
              id: 3,
              name: 'R2-D2',
              height: '96',
              mass: '32',
              hair_color: 'n/a',
              skin_color: 'white, blue',
              eye_color: 'red',
              birth_year: '33BBY',
              gender: 'n/a',
              homeworld: 8,
              SpeciesId: null,
              Planet: {
                id: 8, climate: 'temperate', surface_water: '12', name: 'Naboo', diameter: '12120', rotation_period: '26', terrain: 'grassy hills, swamps, forests, mountains', gravity: '1 standard', orbital_period: '312', population: '4500000000',
              },
            }, {
              id: 4,
              name: 'Darth Vader',
              height: '202',
              mass: '136',
              hair_color: 'none',
              skin_color: 'white',
              eye_color: 'yellow',
              birth_year: '41.9BBY',
              gender: 'male',
              homeworld: 1,
              SpeciesId: null,
              Planet: {
                id: 1, climate: 'arid', surface_water: '1', name: 'Tatooine', diameter: '10465', rotation_period: '23', terrain: 'desert', gravity: '1 standard', orbital_period: '304', population: '200000',
              },
            }, {
              id: 5,
              name: 'Leia Organa',
              height: '150',
              mass: '49',
              hair_color: 'brown',
              skin_color: 'light',
              eye_color: 'brown',
              birth_year: '19BBY',
              gender: 'female',
              homeworld: 2,
              SpeciesId: null,
              Planet: {
                id: 2, climate: 'temperate', surface_water: '40', name: 'Alderaan', diameter: '12500', rotation_period: '24', terrain: 'grasslands, mountains', gravity: '1 standard', orbital_period: '364', population: '2000000000',
              },
            }],
          },
          timeout: 35,
          filter: [],
          currentPage: 0,
        });
        state = rootReducer({
          currentPerson: {
            id: 1,
            name: 'Luke Skywalker',
            height: '172',
            mass: '77',
            hair_color: 'blond',
            skin_color: 'fair',
            eye_color: 'blue',
            birth_year: '19BBY',
            gender: 'male',
            homeworld: 1,
            SpeciesId: null,
            Planet: {
              id: 1, climate: 'arid', surface_water: '1', name: 'Tatooine', diameter: '10465', rotation_period: '23', terrain: 'desert', gravity: '1 standard', orbital_period: '304', population: '200000',
            },
          },
          modalOpen: false,
          request: {
            isFetching: false,
            query: 'http://it2810-06.idi.ntnu.no/api/api/people?search=r&limit=4&offset=0',
            searchTerm: 'r',
            requestedAt: 1542294603720,
            count: 46,
            result: [{
              id: 1,
              name: 'Luke Skywalker',
              height: '172',
              mass: '77',
              hair_color: 'blond',
              skin_color: 'fair',
              eye_color: 'blue',
              birth_year: '19BBY',
              gender: 'male',
              homeworld: 1,
              SpeciesId: null,
              Planet: {
                id: 1, climate: 'arid', surface_water: '1', name: 'Tatooine', diameter: '10465', rotation_period: '23', terrain: 'desert', gravity: '1 standard', orbital_period: '304', population: '200000',
              },
            }, {
              id: 3,
              name: 'R2-D2',
              height: '96',
              mass: '32',
              hair_color: 'n/a',
              skin_color: 'white, blue',
              eye_color: 'red',
              birth_year: '33BBY',
              gender: 'n/a',
              homeworld: 8,
              SpeciesId: null,
              Planet: {
                id: 8, climate: 'temperate', surface_water: '12', name: 'Naboo', diameter: '12120', rotation_period: '26', terrain: 'grassy hills, swamps, forests, mountains', gravity: '1 standard', orbital_period: '312', population: '4500000000',
              },
            }, {
              id: 4,
              name: 'Darth Vader',
              height: '202',
              mass: '136',
              hair_color: 'none',
              skin_color: 'white',
              eye_color: 'yellow',
              birth_year: '41.9BBY',
              gender: 'male',
              homeworld: 1,
              SpeciesId: null,
              Planet: {
                id: 1, climate: 'arid', surface_water: '1', name: 'Tatooine', diameter: '10465', rotation_period: '23', terrain: 'desert', gravity: '1 standard', orbital_period: '304', population: '200000',
              },
            }, {
              id: 5,
              name: 'Leia Organa',
              height: '150',
              mass: '49',
              hair_color: 'brown',
              skin_color: 'light',
              eye_color: 'brown',
              birth_year: '19BBY',
              gender: 'female',
              homeworld: 2,
              SpeciesId: null,
              Planet: {
                id: 2, climate: 'temperate', surface_water: '40', name: 'Alderaan', diameter: '12500', rotation_period: '24', terrain: 'grasslands, mountains', gravity: '1 standard', orbital_period: '364', population: '2000000000',
              },
            }],
          },
          timeout: 35,
          filter: [],
          currentPage: 0,
        }, { type: 'OPEN_MODAL' });
        expect(state).toEqual({
          currentPerson: {
            id: 1,
            name: 'Luke Skywalker',
            height: '172',
            mass: '77',
            hair_color: 'blond',
            skin_color: 'fair',
            eye_color: 'blue',
            birth_year: '19BBY',
            gender: 'male',
            homeworld: 1,
            SpeciesId: null,
            Planet: {
              id: 1, climate: 'arid', surface_water: '1', name: 'Tatooine', diameter: '10465', rotation_period: '23', terrain: 'desert', gravity: '1 standard', orbital_period: '304', population: '200000',
            },
          },
          modalOpen: true,
          request: {
            isFetching: false,
            query: 'http://it2810-06.idi.ntnu.no/api/api/people?search=r&limit=4&offset=0',
            searchTerm: 'r',
            requestedAt: 1542294603720,
            count: 46,
            result: [{
              id: 1,
              name: 'Luke Skywalker',
              height: '172',
              mass: '77',
              hair_color: 'blond',
              skin_color: 'fair',
              eye_color: 'blue',
              birth_year: '19BBY',
              gender: 'male',
              homeworld: 1,
              SpeciesId: null,
              Planet: {
                id: 1, climate: 'arid', surface_water: '1', name: 'Tatooine', diameter: '10465', rotation_period: '23', terrain: 'desert', gravity: '1 standard', orbital_period: '304', population: '200000',
              },
            }, {
              id: 3,
              name: 'R2-D2',
              height: '96',
              mass: '32',
              hair_color: 'n/a',
              skin_color: 'white, blue',
              eye_color: 'red',
              birth_year: '33BBY',
              gender: 'n/a',
              homeworld: 8,
              SpeciesId: null,
              Planet: {
                id: 8, climate: 'temperate', surface_water: '12', name: 'Naboo', diameter: '12120', rotation_period: '26', terrain: 'grassy hills, swamps, forests, mountains', gravity: '1 standard', orbital_period: '312', population: '4500000000',
              },
            }, {
              id: 4,
              name: 'Darth Vader',
              height: '202',
              mass: '136',
              hair_color: 'none',
              skin_color: 'white',
              eye_color: 'yellow',
              birth_year: '41.9BBY',
              gender: 'male',
              homeworld: 1,
              SpeciesId: null,
              Planet: {
                id: 1, climate: 'arid', surface_water: '1', name: 'Tatooine', diameter: '10465', rotation_period: '23', terrain: 'desert', gravity: '1 standard', orbital_period: '304', population: '200000',
              },
            }, {
              id: 5,
              name: 'Leia Organa',
              height: '150',
              mass: '49',
              hair_color: 'brown',
              skin_color: 'light',
              eye_color: 'brown',
              birth_year: '19BBY',
              gender: 'female',
              homeworld: 2,
              SpeciesId: null,
              Planet: {
                id: 2, climate: 'temperate', surface_water: '40', name: 'Alderaan', diameter: '12500', rotation_period: '24', terrain: 'grasslands, mountains', gravity: '1 standard', orbital_period: '364', population: '2000000000',
              },
            }],
          },
          timeout: 35,
          filter: [],
          currentPage: 0,
        });
      });
    });
  });
});
